<!doctype html>
<html>
  <head>
    <title>Mon premier rendu 3D avec Three.js</title>
    <meta charset="utf-8">
    <link  href="css/main.css" rel="stylesheet"/>
  </head>
<body>
  <div id="container"></div>
  <canvas id="myCanvas" width="625" height="625" style="border:1px solid #000000;">
  Your browser does not support the HTML5 canvas tag.</canvas>
  <script src="three.js"></script>
  <script src="js/renderers/CanvasRenderer.js"></script>
  <script type="text/javascript">
  //go la mec https://www.w3schools.com/tags/canvas_lineto.asp
	//objet map attribut	: nbCol;nbRow;c;ctx
	//objet map methodes	: Draw();
	
	//CONSANTE
	const SIZE_SQUARE = 25;
	
	//DÃ©claration des variables et objets + initialisation
	var map = {};
	map.nbCol = map.nbRow = 25;
	
	map.c = document.getElementById("myCanvas");
	map.ctx = map.c.getContext("2d");
	
	map.matrix = [];
	
	map.InitMatrix = function(){
		for(var i = 0; i < map.nbCol; i++)
		{
			for(var j = 0; j < map.nbCol; j++)
			{
				map.matrix[i,j]=0;
			}
		}
	}
	
	map.Draw = function(){
		if((map.nbCol<=0)||(map.nbRow<=0))
		{
			alert("le nombre de collones ou de ligne est inssufissant");
			return;
		}
		for(var i = 0; i < map.nbRow + 1; i++)
		{//affichage des ligne horizontales
			map.ctx.beginPath();
			map.ctx.moveTo(0,i*SIZE_SQUARE);
			map.ctx.lineTo(625,i*SIZE_SQUARE);
			map.ctx.stroke();
		}
		for(var i = 0; i < map.nbCol + 1; i++)
		{//affichage des ligne verticales
			map.ctx.beginPath();
			map.ctx.moveTo(i*SIZE_SQUARE,0);
			map.ctx.lineTo(i*SIZE_SQUARE,625);
			map.ctx.stroke();						
		}
	}
	
	  //Initialisation du tracking de la souris
	function GetMousePos(canvas, evt)
	{
		var rect = canvas.getBoundingClientRect();
		return {
			x: evt.clientX - rect.left;
			y: evt.clientY - rect.top;
		}
	}
	
  	map.c.addEventListener('onmousedown', function(evt){
			var mousePos = GetMousePos(map.c, evt);
			var message = 'Mouse position: ' + mousePos.x + ',' + mousePos.y;
			writeMessage(map.c, message);
		}, false);
	}
	
	map.InitMatrix();
	map.Draw();
	mouse_position();

  </script>
</body>
</html>